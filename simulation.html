<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RoadGame - Tournament Format Comparison</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --success: #16a34a;
            --warning: #f59e0b;
            --danger: #dc2626;
            --roadgame: #7c3aed;
            --roadgame-dark: #5b21b6;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--gray-50);
            color: var(--gray-800);
            line-height: 1.6;
        }

        .hero {
            background: linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .hero p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        section {
            background: white;
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        h2 {
            font-size: 1.5rem;
            color: var(--gray-900);
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--primary);
            display: inline-block;
        }

        h3 {
            font-size: 1.1rem;
            color: var(--gray-800);
            margin: 20px 0 12px;
        }

        p {
            margin-bottom: 12px;
        }

        /* Format comparison header */
        .format-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin: 24px 0;
        }

        @media (max-width: 768px) {
            .format-comparison {
                grid-template-columns: 1fr;
            }
        }

        .format-card {
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            overflow: hidden;
        }

        .format-card.traditional .format-header {
            background: var(--gray-700);
        }

        .format-card.roadgame {
            border-color: var(--roadgame);
        }

        .format-card.roadgame .format-header {
            background: linear-gradient(135deg, var(--roadgame) 0%, var(--roadgame-dark) 100%);
        }

        .format-header {
            padding: 20px 24px;
            color: white;
        }

        .format-header h3 {
            color: white;
            margin: 0 0 4px;
            font-size: 1.25rem;
        }

        .format-header p {
            margin: 0;
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .format-body {
            padding: 24px;
        }

        .format-body ul {
            list-style: none;
            margin: 0;
        }

        .format-body li {
            padding: 8px 0;
            padding-left: 28px;
            position: relative;
            color: var(--gray-700);
            border-bottom: 1px solid var(--gray-100);
        }

        .format-body li:last-child {
            border-bottom: none;
        }

        .format-body li::before {
            content: "";
            position: absolute;
            left: 0;
            top: 12px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
        }

        .format-card.traditional li::before {
            background: var(--gray-300);
        }

        .format-card.roadgame li::before {
            background: var(--roadgame);
        }

        .format-body li strong {
            color: var(--gray-900);
        }

        /* Key difference highlight */
        .key-difference {
            background: #fef3c7;
            border-left: 4px solid var(--warning);
            padding: 16px 20px;
            margin: 16px 0;
            border-radius: 0 8px 8px 0;
        }

        .key-difference h4 {
            color: var(--gray-800);
            margin-bottom: 4px;
        }

        .key-difference p {
            margin: 0;
            color: var(--gray-700);
            font-size: 0.95rem;
        }

        /* Controls */
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .control-group label {
            font-weight: 600;
            color: var(--gray-700);
            font-size: 0.9rem;
        }

        .control-group select {
            padding: 10px 12px;
            border: 1px solid var(--gray-300);
            border-radius: 6px;
            font-size: 1rem;
            background: white;
        }

        .control-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--roadgame);
            color: white;
        }

        .btn-primary:hover {
            background: var(--roadgame-dark);
        }

        .btn-large {
            padding: 16px 32px;
            font-size: 1.1rem;
        }

        /* Results comparison */
        .results-comparison {
            display: grid;
            grid-template-columns: 1fr 80px 1fr;
            gap: 20px;
            align-items: stretch;
            margin: 24px 0;
        }

        @media (max-width: 768px) {
            .results-comparison {
                grid-template-columns: 1fr;
            }
            .results-vs {
                display: none;
            }
        }

        .results-vs {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-400);
        }

        .result-panel {
            border-radius: 12px;
            overflow: hidden;
            border: 2px solid var(--gray-200);
        }

        .result-panel.roadgame {
            border-color: var(--roadgame);
        }

        .result-panel-header {
            padding: 16px 20px;
            background: var(--gray-700);
            color: white;
            text-align: center;
        }

        .result-panel.roadgame .result-panel-header {
            background: linear-gradient(135deg, var(--roadgame) 0%, var(--roadgame-dark) 100%);
        }

        .result-panel-header h4 {
            margin: 0;
            font-size: 1.1rem;
        }

        .result-panel-body {
            padding: 24px;
        }

        .big-stat {
            text-align: center;
            padding: 20px;
            background: var(--gray-50);
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .big-stat .value {
            font-size: 3rem;
            font-weight: 700;
        }

        .big-stat .label {
            font-size: 0.9rem;
            color: var(--gray-600);
            margin-top: 4px;
        }

        .big-stat.danger .value { color: var(--danger); }
        .big-stat.success .value { color: var(--success); }
        .big-stat.warning .value { color: var(--warning); }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--gray-100);
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-row .stat-label {
            color: var(--gray-600);
        }

        .stat-row .stat-value {
            font-weight: 600;
        }

        /* Explainer boxes */
        .explainer {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            border-radius: 8px;
            padding: 20px;
            margin: 16px 0;
        }

        .explainer.roadgame {
            background: #f5f3ff;
            border-color: #c4b5fd;
        }

        .explainer h4 {
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .explainer.roadgame h4 {
            color: var(--roadgame);
        }

        .explainer p {
            color: var(--gray-700);
            font-size: 0.95rem;
            margin-bottom: 8px;
        }

        .explainer p:last-child {
            margin-bottom: 0;
        }

        /* Impact summary */
        .impact-summary {
            background: linear-gradient(135deg, var(--roadgame) 0%, var(--roadgame-dark) 100%);
            color: white;
            padding: 32px;
            border-radius: 12px;
            margin: 24px 0;
        }

        .impact-summary h3 {
            color: white;
            margin: 0 0 16px;
            font-size: 1.3rem;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .impact-item {
            text-align: center;
        }

        .impact-item .value {
            font-size: 2.5rem;
            font-weight: 700;
        }

        .impact-item .label {
            opacity: 0.9;
            font-size: 0.9rem;
        }

        /* Structural differences table */
        .diff-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .diff-table th {
            background: var(--gray-100);
            padding: 14px 16px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid var(--gray-200);
        }

        .diff-table th:first-child {
            width: 30%;
        }

        .diff-table td {
            padding: 14px 16px;
            border-bottom: 1px solid var(--gray-200);
            vertical-align: top;
        }

        .diff-table tr:hover {
            background: var(--gray-50);
        }

        .diff-table .traditional {
            color: var(--gray-600);
        }

        .diff-table .roadgame-cell {
            color: var(--roadgame);
            font-weight: 500;
        }

        /* Timeline comparison */
        .timeline-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin: 24px 0;
        }

        @media (max-width: 768px) {
            .timeline-comparison {
                grid-template-columns: 1fr;
            }
        }

        .timeline-panel {
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            overflow: hidden;
        }

        .timeline-panel.roadgame {
            border-color: var(--roadgame);
        }

        .timeline-panel-header {
            padding: 16px 20px;
            background: var(--gray-700);
            color: white;
        }

        .timeline-panel.roadgame .timeline-panel-header {
            background: linear-gradient(135deg, var(--roadgame) 0%, var(--roadgame-dark) 100%);
        }

        .timeline-panel-header h4 {
            margin: 0;
            font-size: 1rem;
        }

        .timeline-panel-body {
            padding: 16px;
        }

        .timeline-event {
            display: flex;
            gap: 12px;
            padding: 10px 0;
            border-bottom: 1px solid var(--gray-100);
        }

        .timeline-event:last-child {
            border-bottom: none;
        }

        .timeline-time {
            width: 70px;
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--gray-600);
            flex-shrink: 0;
        }

        .timeline-content {
            flex: 1;
        }

        .timeline-content .title {
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 2px;
        }

        .timeline-content .desc {
            font-size: 0.8rem;
            color: var(--gray-600);
        }

        .event-game { border-left: 4px solid var(--primary); padding-left: 12px; margin-left: -12px; }
        .event-activity { border-left: 4px solid var(--success); padding-left: 12px; margin-left: -12px; background: #f0fdf4; }
        .event-activity-block { border-left: 4px solid var(--roadgame); padding-left: 12px; margin-left: -12px; background: #f5f3ff; }
        .event-conflict { border-left: 4px solid var(--danger); padding-left: 12px; margin-left: -12px; background: #fef2f2; }

        /* Data table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            font-size: 0.9rem;
        }

        .data-table th {
            background: var(--gray-100);
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid var(--gray-200);
        }

        .data-table td {
            padding: 12px;
            border-bottom: 1px solid var(--gray-200);
        }

        .data-table tr:hover {
            background: var(--gray-50);
        }

        /* Callout */
        .callout {
            background: var(--gray-900);
            color: white;
            padding: 24px;
            border-radius: 8px;
            margin: 24px 0;
        }

        .callout h4 {
            color: white;
            margin-bottom: 8px;
        }

        .callout p {
            margin: 0;
            opacity: 0.9;
        }

        .hidden { display: none; }

        .footer {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray-600);
        }

        .footer a {
            color: var(--primary);
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="hero">
        <h1>Traditional vs RoadGame Format</h1>
        <p>Comparing conflict rates between conventional tournament scheduling and the RoadGame Format designed around family experience</p>
    </div>

    <div class="container">
        <!-- What Are We Comparing -->
        <section>
            <h2>Two Tournament Formats</h2>

            <p>The same teams, same sport, same weekend—but <strong>structured differently</strong>. Let's see how tournament format affects whether families can book activities without conflicts.</p>

            <div class="format-comparison">
                <div class="format-card traditional">
                    <div class="format-header">
                        <h3>Traditional Format</h3>
                        <p>How most tournaments run today</p>
                    </div>
                    <div class="format-body">
                        <ul>
                            <li><strong>Optimized for field utilization</strong> — Pack as many games as possible into available field time</li>
                            <li><strong>Games can start early</strong> — If previous games finish quickly, next games may start up to 15 minutes early</li>
                            <li><strong>Tight scheduling</strong> — ~85 min between bracket rounds (no time for activities)</li>
                            <li><strong>No activity windows</strong> — Families squeeze activities into unpredictable gaps</li>
                            <li><strong>Bracket times shift</strong> — Day 2 game times depend on how Day 1 games ran</li>
                        </ul>
                    </div>
                </div>

                <div class="format-card roadgame">
                    <div class="format-header">
                        <h3>RoadGame Format</h3>
                        <p>Designed around family experience</p>
                    </div>
                    <div class="format-body">
                        <ul>
                            <li><strong>Optimized for family experience</strong> — Tournament is part of a vacation, not the whole weekend</li>
                            <li><strong>Games never start early</strong> — Scheduled time is the earliest a game can start</li>
                            <li><strong>Guaranteed activity blocks</strong> — 3-hour protected windows for team activities</li>
                            <li><strong>2-hour gaps between rounds</strong> — Built-in time for team lunch, activities</li>
                            <li><strong>Fixed bracket windows</strong> — Day 2 times are protected, not fluid</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="key-difference">
                <h4>The Key Structural Difference</h4>
                <p><strong>Traditional:</strong> ~85 min between bracket rounds. No time for activities. Games can start early.</p>
                <p><strong>RoadGame:</strong> 2+ hours between rounds. Guaranteed 3-hour morning block. Games never start early.</p>
                <p style="margin-top: 8px; font-weight: 600;">The tournament is designed AROUND the family experience, not the other way around.</p>
            </div>
        </section>

        <!-- Structural Differences -->
        <section>
            <h2>Structural Differences</h2>

            <table class="diff-table">
                <thead>
                    <tr>
                        <th>Element</th>
                        <th>Traditional Format</th>
                        <th>RoadGame Format</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Schedule Priority</strong></td>
                        <td class="traditional">Field utilization & tournament efficiency</td>
                        <td class="roadgame-cell">Family experience & predictability</td>
                    </tr>
                    <tr>
                        <td><strong>Game Start Policy</strong></td>
                        <td class="traditional">Can start up to 15 min early if field is free</td>
                        <td class="roadgame-cell">Never starts early—scheduled time is the floor</td>
                    </tr>
                    <tr>
                        <td><strong>Gap Between Bracket Rounds</strong></td>
                        <td class="traditional">~85 minutes (game + minimal buffer)</td>
                        <td class="roadgame-cell">~2 hours (designed for activities)</td>
                    </tr>
                    <tr>
                        <td><strong>Activity Windows</strong></td>
                        <td class="traditional">None—families find gaps where they can</td>
                        <td class="roadgame-cell">Guaranteed 3-hour block each day</td>
                    </tr>
                    <tr>
                        <td><strong>Day 2 Bracket Timing</strong></td>
                        <td class="traditional">Times shift based on earlier games</td>
                        <td class="roadgame-cell">Fixed time windows, protected start times</td>
                    </tr>
                    <tr>
                        <td><strong>Booking Confidence</strong></td>
                        <td class="traditional">Risky during bracket play</td>
                        <td class="roadgame-cell">Safe throughout tournament</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Game Duration Data -->
        <section>
            <h2>Game Duration Data (From Research)</h2>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Sport</th>
                        <th>Age Group</th>
                        <th>Typical Duration</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td rowspan="3"><strong>Soccer</strong></td>
                        <td>U10</td>
                        <td>50 minutes</td>
                        <td>Two 25-minute halves</td>
                    </tr>
                    <tr>
                        <td>U12</td>
                        <td>60 minutes</td>
                        <td>Two 30-minute halves</td>
                    </tr>
                    <tr>
                        <td>U14</td>
                        <td>75 minutes</td>
                        <td>Two 35-40 minute halves</td>
                    </tr>
                    <tr>
                        <td><strong>Basketball</strong></td>
                        <td>Youth</td>
                        <td>45 minutes</td>
                        <td>Four 6-8 minute quarters</td>
                    </tr>
                    <tr>
                        <td><strong>Volleyball</strong></td>
                        <td>Youth</td>
                        <td>55 minutes</td>
                        <td>Best of 3 sets</td>
                    </tr>
                    <tr>
                        <td><strong>Lacrosse</strong></td>
                        <td>Youth</td>
                        <td>40 minutes</td>
                        <td>Four 8-10 minute quarters</td>
                    </tr>
                    <tr>
                        <td rowspan="2"><strong>Baseball</strong></td>
                        <td>12U</td>
                        <td>95 minutes</td>
                        <td>6 innings or 1:45 time limit</td>
                    </tr>
                    <tr>
                        <td>14U</td>
                        <td>110 minutes</td>
                        <td>7 innings or 2:00 time limit</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Run Simulation -->
        <section>
            <h2>Run the Comparison</h2>

            <p>Select a sport and tournament size, then run the simulation to see how conflict rates compare between Traditional and RoadGame formats.</p>

            <div class="controls">
                <div class="control-group">
                    <label for="sport">Sport & Age Group</label>
                    <select id="sport">
                        <option value="soccer-u12">Soccer (U12) - 60 min games</option>
                        <option value="soccer-u10">Soccer (U10) - 50 min games</option>
                        <option value="soccer-u14">Soccer (U14) - 75 min games</option>
                        <option value="basketball">Basketball - 45 min games</option>
                        <option value="volleyball">Volleyball - 55 min games</option>
                        <option value="lacrosse">Lacrosse - 40 min games</option>
                        <option value="baseball-12u">Baseball (12U) - 95 min games</option>
                        <option value="baseball-14u">Baseball (14U) - 110 min games</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="numTeams">Tournament Size</label>
                    <select id="numTeams">
                        <option value="16" selected>16 teams (typical weekend tournament)</option>
                        <option value="8">8 teams (small tournament)</option>
                        <option value="32">32 teams (large tournament)</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="simRuns">Tournaments to Simulate</label>
                    <select id="simRuns">
                        <option value="100">100 tournaments</option>
                        <option value="500" selected>500 tournaments</option>
                        <option value="1000">1,000 tournaments</option>
                    </select>
                </div>
            </div>

            <button class="btn btn-primary btn-large" onclick="runSimulation()">Compare Formats</button>
        </section>

        <!-- Results Section -->
        <section id="results" class="hidden">
            <h2>Simulation Results</h2>

            <div class="explainer">
                <h4>What We Tested</h4>
                <p>We simulated <strong id="simCount">500</strong> tournaments for <strong id="sportName">Soccer U12</strong>. In each tournament, we tracked what happens when families book activities 2 hours after their bracket games end.</p>
                <p><strong>A "conflict" occurs when:</strong> A family's booked activity overlaps with when they need to arrive for their next game (30 minutes before game time).</p>
            </div>

            <div class="results-comparison">
                <div class="result-panel">
                    <div class="result-panel-header">
                        <h4>Traditional Format</h4>
                    </div>
                    <div class="result-panel-body">
                        <div class="big-stat" id="traditionalStat">
                            <div class="value" id="traditionalRate">-</div>
                            <div class="label">Bracket Day Conflict Rate</div>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Pool Play (Day 1)</span>
                            <span class="stat-value" style="color: var(--success);">0% conflicts</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">After Quarterfinal</span>
                            <span class="stat-value" id="tradQF">-</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">After Semifinal</span>
                            <span class="stat-value" id="tradSF">-</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Booking scenarios tested</span>
                            <span class="stat-value" id="tradScenarios">-</span>
                        </div>
                    </div>
                </div>

                <div class="results-vs">VS</div>

                <div class="result-panel roadgame">
                    <div class="result-panel-header">
                        <h4>RoadGame Format</h4>
                    </div>
                    <div class="result-panel-body">
                        <div class="big-stat" id="roadgameStat">
                            <div class="value" id="roadgameRate">-</div>
                            <div class="label">Bracket Day Conflict Rate</div>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Pool Play (Day 1)</span>
                            <span class="stat-value" style="color: var(--success);">0% conflicts</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">After Quarterfinal</span>
                            <span class="stat-value" id="rgQF">-</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">After Semifinal</span>
                            <span class="stat-value" id="rgSF">-</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Booking scenarios tested</span>
                            <span class="stat-value" id="rgScenarios">-</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="impact-summary" id="impactSummary">
                <h3>The RoadGame Format Advantage</h3>
                <div class="impact-grid">
                    <div class="impact-item">
                        <div class="value" id="conflictReduction">-</div>
                        <div class="label">Fewer Conflicts</div>
                    </div>
                    <div class="impact-item">
                        <div class="value" id="safeBookings">-</div>
                        <div class="label">More Safe Booking Windows</div>
                    </div>
                    <div class="impact-item">
                        <div class="value">3 hrs</div>
                        <div class="label">Guaranteed Activity Block</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Timeline Comparison -->
        <section id="timelineSection" class="hidden">
            <h2>A Day in Each Format</h2>

            <p>Here's what bracket day (Day 2) looks like for a team that keeps winning—same team, same opponents, different format:</p>

            <div class="timeline-comparison">
                <div class="timeline-panel">
                    <div class="timeline-panel-header">
                        <h4>Traditional Format - Sunday</h4>
                    </div>
                    <div class="timeline-panel-body" id="tradTimeline">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <div class="timeline-panel roadgame">
                    <div class="timeline-panel-header">
                        <h4>RoadGame Format - Sunday</h4>
                    </div>
                    <div class="timeline-panel-body" id="rgTimeline">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Key Takeaways -->
        <section id="takeaways" class="hidden">
            <h2>What This Means</h2>

            <div class="explainer">
                <h4>Why Traditional Tournaments Have High Conflict Rates</h4>
                <p>In traditional tournaments, <strong>games can start early</strong> if previous games finish quickly. A family who books an activity 2 hours after their game might find their next game starting 15 minutes earlier than scheduled. This unpredictability is the root cause of conflicts.</p>
            </div>

            <div class="explainer roadgame">
                <h4>Why the RoadGame Format Works</h4>
                <p>The single biggest change: <strong>games never start early</strong>. The scheduled time is a floor, not a target. Combined with longer buffers and guaranteed activity blocks, families can book with confidence because timing is predictable.</p>
            </div>

            <div class="callout">
                <h4>The Business Opportunity</h4>
                <p>Families want tournaments to feel more like vacations. The RoadGame Format makes this possible by designing the tournament structure around family experience, not just field efficiency. TDs who adopt this format can charge premium prices and attract families who are tired of chaotic, unpredictable tournament weekends.</p>
            </div>
        </section>
    </div>

    <div class="footer">
        <p><a href="index.html">Back to Home</a> | <a href="strategy.html">View Strategy</a></p>
    </div>

    <script>
        // Game duration data (in minutes)
        const GAME_DURATIONS = {
            'soccer-u10': { base: 50, variance: [-8, 12], buffer: 15, name: 'Soccer U10' },
            'soccer-u12': { base: 60, variance: [-10, 15], buffer: 15, name: 'Soccer U12' },
            'soccer-u14': { base: 75, variance: [-10, 15], buffer: 20, name: 'Soccer U14' },
            'basketball': { base: 45, variance: [-5, 10], buffer: 10, name: 'Basketball' },
            'volleyball': { base: 55, variance: [-10, 20], buffer: 10, name: 'Volleyball' },
            'lacrosse': { base: 40, variance: [-5, 10], buffer: 10, name: 'Lacrosse' },
            'baseball-12u': { base: 95, variance: [-15, 20], buffer: 20, name: 'Baseball 12U' },
            'baseball-14u': { base: 110, variance: [-15, 25], buffer: 25, name: 'Baseball 14U' }
        };

        // RoadGame format has longer buffers
        const ROADGAME_BUFFER_BONUS = 15; // Extra 15 min buffer

        function randomInRange(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function formatTime(minutes) {
            const hours = Math.floor(minutes / 60);
            const mins = minutes % 60;
            const period = hours >= 12 ? 'PM' : 'AM';
            const displayHours = hours > 12 ? hours - 12 : (hours === 0 ? 12 : hours);
            return `${displayHours}:${mins.toString().padStart(2, '0')} ${period}`;
        }

        function simulateFormat(sportConfig, numTeams, simRuns, isRoadgame) {
            const DAY2_START = 8 * 60; // 8 AM
            const buffer = sportConfig.buffer + (isRoadgame ? ROADGAME_BUFFER_BONUS : 0);

            // KEY DIFFERENCE: RoadGame format has MUCH longer gaps between bracket rounds
            // Traditional: Pack games as efficiently as possible
            // RoadGame: Design schedule around 90-minute activity windows between rounds
            const tradGameSlot = sportConfig.base + sportConfig.buffer + 10;

            // RoadGame slot includes: game + buffer + 2-hour activity window
            // This is the core structural difference - tournaments designed FOR activities
            const rgGameSlot = sportConfig.base + buffer + 120; // 2-hour gap between rounds

            const gameSlot = isRoadgame ? rgGameSlot : tradGameSlot;

            // In RoadGame format, there's a 3-hour activity block before bracket play
            const activityBlockEnd = isRoadgame ? DAY2_START + 180 : DAY2_START; // 11 AM
            const bracketStart = activityBlockEnd;

            let totalBookings = 0;
            let totalConflicts = 0;
            let qfBookings = 0, qfConflicts = 0;
            let sfBookings = 0, sfConflicts = 0;

            // Also track activity block bookings (RoadGame only)
            let activityBlockBookings = 0;

            for (let run = 0; run < simRuns; run++) {
                // For RoadGame: Count the guaranteed safe activity block bookings
                if (isRoadgame) {
                    // Every team can safely book during the 3-hour morning block
                    activityBlockBookings += 4; // 4 teams that will play QF
                }

                // Quarterfinals: 4 games, 4 winners advance
                for (let i = 0; i < 4; i++) {
                    qfBookings++;
                    totalBookings++;

                    // QF game time
                    const qfScheduledTime = bracketStart + Math.floor(i / 2) * gameSlot;
                    const qfVariance = randomInRange(sportConfig.variance[0], sportConfig.variance[1]);
                    const qfActualEnd = qfScheduledTime + sportConfig.base + qfVariance;

                    // Family books activity 1 hour after game ends (shorter wait in RoadGame since schedule is predictable)
                    const waitTime = isRoadgame ? 60 : 120; // RoadGame families trust the schedule more
                    const bookingStart = qfActualEnd + waitTime;
                    const bookingEnd = bookingStart + 90; // 90 min activity

                    // SF scheduled time
                    const sfScheduledTime = bracketStart + (gameSlot * 2) + Math.floor(i / 2) * gameSlot;

                    // KEY DIFFERENCE: Traditional can start early, RoadGame cannot
                    let sfActualStart;
                    if (isRoadgame) {
                        // RoadGame: Game starts at scheduled time or later (never early)
                        sfActualStart = Math.max(sfScheduledTime, qfActualEnd + buffer);
                    } else {
                        // Traditional: Game can start up to 15 min early
                        sfActualStart = Math.max(sfScheduledTime - 15, qfActualEnd + buffer);
                    }

                    // Need to arrive 30 min before game
                    const mustArriveBy = sfActualStart - 30;

                    if (bookingEnd > mustArriveBy) {
                        qfConflicts++;
                        totalConflicts++;
                    }
                }

                // Semifinals: 2 games, 2 winners advance
                for (let i = 0; i < 2; i++) {
                    sfBookings++;
                    totalBookings++;

                    const sfScheduledTime = bracketStart + (gameSlot * 2) + i * gameSlot;
                    const sfVariance = randomInRange(sportConfig.variance[0], sportConfig.variance[1]);
                    const sfActualEnd = sfScheduledTime + sportConfig.base + sfVariance;

                    const waitTime = isRoadgame ? 60 : 120;
                    const bookingStart = sfActualEnd + waitTime;
                    const bookingEnd = bookingStart + 90;

                    const finalScheduledTime = bracketStart + (gameSlot * 4);

                    let finalActualStart;
                    if (isRoadgame) {
                        finalActualStart = Math.max(finalScheduledTime, sfActualEnd + buffer);
                    } else {
                        finalActualStart = Math.max(finalScheduledTime - 15, sfActualEnd + buffer);
                    }

                    const mustArriveBy = finalActualStart - 30;

                    if (bookingEnd > mustArriveBy) {
                        sfConflicts++;
                        totalConflicts++;
                    }
                }
            }

            return {
                totalBookings,
                totalConflicts,
                overallRate: totalBookings > 0 ? (totalConflicts / totalBookings * 100) : 0,
                qfRate: qfBookings > 0 ? (qfConflicts / qfBookings * 100) : 0,
                sfRate: sfBookings > 0 ? (sfConflicts / sfBookings * 100) : 0,
                activityBlockBookings,
                safeBookingRate: isRoadgame ?
                    ((activityBlockBookings + (totalBookings - totalConflicts)) / (activityBlockBookings + totalBookings) * 100) :
                    ((totalBookings - totalConflicts) / totalBookings * 100)
            };
        }

        function runSimulation() {
            const sport = document.getElementById('sport').value;
            const numTeams = parseInt(document.getElementById('numTeams').value);
            const simRuns = parseInt(document.getElementById('simRuns').value);
            const sportConfig = GAME_DURATIONS[sport];

            // Run both simulations
            const traditional = simulateFormat(sportConfig, numTeams, simRuns, false);
            const roadgame = simulateFormat(sportConfig, numTeams, simRuns, true);

            // Show results
            document.getElementById('results').classList.remove('hidden');
            document.getElementById('timelineSection').classList.remove('hidden');
            document.getElementById('takeaways').classList.remove('hidden');

            // Update header
            document.getElementById('simCount').textContent = simRuns.toLocaleString();
            document.getElementById('sportName').textContent = sportConfig.name;

            // Traditional results
            document.getElementById('traditionalRate').textContent = traditional.overallRate.toFixed(1) + '%';
            document.getElementById('tradQF').textContent = traditional.qfRate.toFixed(1) + '% conflict';
            document.getElementById('tradSF').textContent = traditional.sfRate.toFixed(1) + '% conflict';
            document.getElementById('tradScenarios').textContent = traditional.totalBookings.toLocaleString();

            const tradStat = document.getElementById('traditionalStat');
            tradStat.classList.remove('danger', 'warning', 'success');
            tradStat.classList.add(traditional.overallRate > 30 ? 'danger' : traditional.overallRate > 10 ? 'warning' : 'success');

            // Color the QF/SF stats
            document.getElementById('tradQF').style.color = traditional.qfRate > 30 ? 'var(--danger)' : traditional.qfRate > 10 ? 'var(--warning)' : 'var(--success)';
            document.getElementById('tradSF').style.color = traditional.sfRate > 30 ? 'var(--danger)' : traditional.sfRate > 10 ? 'var(--warning)' : 'var(--success)';

            // RoadGame results
            document.getElementById('roadgameRate').textContent = roadgame.overallRate.toFixed(1) + '%';
            document.getElementById('rgQF').textContent = roadgame.qfRate.toFixed(1) + '% conflict';
            document.getElementById('rgSF').textContent = roadgame.sfRate.toFixed(1) + '% conflict';
            document.getElementById('rgScenarios').textContent = roadgame.totalBookings.toLocaleString();

            const rgStat = document.getElementById('roadgameStat');
            rgStat.classList.remove('danger', 'warning', 'success');
            rgStat.classList.add(roadgame.overallRate > 30 ? 'danger' : roadgame.overallRate > 10 ? 'warning' : 'success');

            document.getElementById('rgQF').style.color = roadgame.qfRate > 30 ? 'var(--danger)' : roadgame.qfRate > 10 ? 'var(--warning)' : 'var(--success)';
            document.getElementById('rgSF').style.color = roadgame.sfRate > 30 ? 'var(--danger)' : roadgame.sfRate > 10 ? 'var(--warning)' : 'var(--success)';

            // Impact summary
            const reduction = traditional.overallRate - roadgame.overallRate;
            const reductionPct = traditional.overallRate > 0 ? (reduction / traditional.overallRate * 100) : 0;
            document.getElementById('conflictReduction').textContent = reductionPct.toFixed(0) + '%';

            // Safe bookings: Pool play (all teams) + Activity block (RoadGame only) + low-conflict bracket bookings
            const safeWindowsTraditional = 1; // Just pool play
            const safeWindowsRoadGame = 3; // Pool play + activity block + safer bracket windows
            document.getElementById('safeBookings').textContent = safeWindowsRoadGame + 'x';

            // Update timelines
            updateTimelines(sportConfig);
        }

        function updateTimelines(sportConfig) {
            const buffer = sportConfig.buffer;
            const tradGameSlot = sportConfig.base + buffer + 10;
            const rgBuffer = buffer + ROADGAME_BUFFER_BONUS;
            const rgGameSlot = sportConfig.base + rgBuffer + 120; // 2-hour activity window

            // Traditional timeline
            const tradStart = 8 * 60; // 8 AM
            document.getElementById('tradTimeline').innerHTML = `
                <div class="timeline-event event-game">
                    <span class="timeline-time">${formatTime(tradStart)}</span>
                    <div class="timeline-content">
                        <div class="title">Quarterfinal</div>
                        <div class="desc">First bracket game (~${sportConfig.base} min)</div>
                    </div>
                </div>
                <div class="timeline-event event-conflict">
                    <span class="timeline-time">${formatTime(tradStart + sportConfig.base + 15)}</span>
                    <div class="timeline-content">
                        <div class="title">Only ~${tradGameSlot - sportConfig.base} min gap</div>
                        <div class="desc">No time for activities—barely time to eat</div>
                    </div>
                </div>
                <div class="timeline-event event-game">
                    <span class="timeline-time">${formatTime(tradStart + tradGameSlot * 2)}</span>
                    <div class="timeline-content">
                        <div class="title">Semifinal (if won QF)</div>
                        <div class="desc">Could start 15 min early</div>
                    </div>
                </div>
                <div class="timeline-event event-game">
                    <span class="timeline-time">${formatTime(tradStart + tradGameSlot * 4)}</span>
                    <div class="timeline-content">
                        <div class="title">Finals (if won SF)</div>
                        <div class="desc">Championship game</div>
                    </div>
                </div>
                <div class="timeline-event" style="border-left: 4px solid var(--gray-400); padding-left: 12px; margin-left: -12px;">
                    <span class="timeline-time">${formatTime(tradStart + tradGameSlot * 4 + sportConfig.base + 15)}</span>
                    <div class="timeline-content">
                        <div class="title">Done by ${formatTime(tradStart + tradGameSlot * 4 + sportConfig.base + 15)}</div>
                        <div class="desc">Efficient but exhausting—no breaks</div>
                    </div>
                </div>
            `;

            // RoadGame timeline
            const rgActivityStart = 8 * 60; // 8 AM
            const rgActivityEnd = rgActivityStart + 180; // 11 AM
            const rgBracketStart = rgActivityEnd;

            document.getElementById('rgTimeline').innerHTML = `
                <div class="timeline-event event-activity-block">
                    <span class="timeline-time">${formatTime(rgActivityStart)}</span>
                    <div class="timeline-content">
                        <div class="title">Morning Activity Block</div>
                        <div class="desc">3 hours guaranteed—team breakfast, pool, activities</div>
                    </div>
                </div>
                <div class="timeline-event event-game">
                    <span class="timeline-time">${formatTime(rgBracketStart)}</span>
                    <div class="timeline-content">
                        <div class="title">Quarterfinal</div>
                        <div class="desc">First bracket game (~${sportConfig.base} min)</div>
                    </div>
                </div>
                <div class="timeline-event event-activity">
                    <span class="timeline-time">${formatTime(rgBracketStart + sportConfig.base + 30)}</span>
                    <div class="timeline-content">
                        <div class="title">~2 hour gap for lunch</div>
                        <div class="desc">Time for team lunch at nearby restaurant</div>
                    </div>
                </div>
                <div class="timeline-event event-game">
                    <span class="timeline-time">${formatTime(rgBracketStart + rgGameSlot * 2)}</span>
                    <div class="timeline-content">
                        <div class="title">Semifinal (if won QF)</div>
                        <div class="desc">Starts at scheduled time, never early</div>
                    </div>
                </div>
                <div class="timeline-event event-activity">
                    <span class="timeline-time">${formatTime(rgBracketStart + rgGameSlot * 2 + sportConfig.base + 30)}</span>
                    <div class="timeline-content">
                        <div class="title">Another activity window</div>
                        <div class="desc">Quick snack, team bonding before finals</div>
                    </div>
                </div>
                <div class="timeline-event event-game">
                    <span class="timeline-time">${formatTime(rgBracketStart + rgGameSlot * 4)}</span>
                    <div class="timeline-content">
                        <div class="title">Finals (if won SF)</div>
                        <div class="desc">Championship game</div>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>
